# Query the place opening hours (where available), as well as the time zone
# and any public holidays for the selected period.

query QueryHoursPublicHolidaysTimeZone {
  # Use the place() operation
  place(id: "place/facebook:page:mavisthegrocer") {
    # Access the time zone for this location
    attr(id: "place/time-zone") {
      value
    }
    # Access the opening hours (where specified)
    hours {
      # Access the next window that the place is open. Supports selecting a
      # series of Open/Closed hours and can be used to let users know when
      # a venue will be open/closed next.
      intervals(first: 1, status: Open) {
        nodes {
          from
          to
          status
          comment
        }
      }
      # Select the period (e.g. the week between the from/to dates). Also access
      # the local public holidays in order to present to the user and let them
      # know of any events that could affect regular trading hours.
      forDays(from: "2021-04-01", to: "2021-04-07") {
        # Date
        date
        # Whether there is a public holiday for this date detected for this
        # region on this date
        publicHoliday
        # Obtain the intervals for this date, requesting the opening status
        # status is optional, otherwise use Open/Closed to specify your pref
        intervals(status: Open) {
          # Hours
          from
          to
          # Status (Open/Closed)
          status
          # Any corresponding comment for the opening hours
          comment
        }
      }
    }
  }
}
